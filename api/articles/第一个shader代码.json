{"title":"第一个shader代码","slug":"第一个shader代码","date":"2019-06-22T14:49:16.000Z","updated":"2019-09-27T15:19:08.554Z","comments":true,"path":"api/articles/第一个shader代码.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<h1 id=\"学习shader第一天！\"><a href=\"#学习shader第一天！\" class=\"headerlink\" title=\"学习shader第一天！\"></a>学习shader第一天！</h1><p>刚刚开始学习unity着色器写个博客记录一下。</p>\n<h2 id=\"人生中写的第一个shader：\"><a href=\"#人生中写的第一个shader：\" class=\"headerlink\" title=\"人生中写的第一个shader：\"></a>人生中写的第一个shader：</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Shader &quot;Skin/test2&quot;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Properties&#123;</span><br><span class=\"line\">    \t_MainTex (&quot;Albedo&quot;,2D) = &quot;white&quot; &#123;&#125;</span><br><span class=\"line\">    \t_Color (&quot;MainColor&quot;,Color) = (1,0,0,1)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    SubShader &#123;</span><br><span class=\"line\">    \tCGPROGRAM</span><br><span class=\"line\">    \t#pragma surface surf Lambert</span><br><span class=\"line\">    \tstruct Input &#123;</span><br><span class=\"line\">    \t\tfloat2 uv_MainTex;</span><br><span class=\"line\">    \t&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    \tsampler2D _MainTex;</span><br><span class=\"line\">    \tfloat4 _Color;</span><br><span class=\"line\"></span><br><span class=\"line\">    \tvoid surf(Input IN,inout SurfaceOutput o)&#123;</span><br><span class=\"line\">    \t\to.Albedo = tex2D (_MainTex,IN.uv_MainTex).rgb* _Color.rgb;</span><br><span class=\"line\">    \t&#125;</span><br><span class=\"line\">    \tENDCG</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>写完和官方基本便面着色器<code>Standard Surface Shader</code>对比了一下。。发现这就是个阉割版的基础shader。。</p>\n<h2 id=\"官方基础着色器代码\"><a href=\"#官方基础着色器代码\" class=\"headerlink\" title=\"官方基础着色器代码\"></a>官方基础着色器代码</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Shader &quot;Custom/NewSurfaceShader&quot;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Properties</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _Color (&quot;Color&quot;, Color) = (1,1,1,1)</span><br><span class=\"line\">        _MainTex (&quot;Albedo (RGB)&quot;, 2D) = &quot;white&quot; &#123;&#125;</span><br><span class=\"line\">        _Glossiness (&quot;Smoothness&quot;, Range(0,1)) = 0.5</span><br><span class=\"line\">        _Metallic (&quot;Metallic&quot;, Range(0,1)) = 0.0</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    SubShader</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Tags &#123; &quot;RenderType&quot;=&quot;Opaque&quot; &#125;</span><br><span class=\"line\">        LOD 200</span><br><span class=\"line\"></span><br><span class=\"line\">        CGPROGRAM</span><br><span class=\"line\">        // Physically based Standard lighting model, and enable shadows on all light types</span><br><span class=\"line\">        #pragma surface surf Standard fullforwardshadows</span><br><span class=\"line\"></span><br><span class=\"line\">        // Use shader model 3.0 target, to get nicer looking lighting</span><br><span class=\"line\">        #pragma target 3.0</span><br><span class=\"line\"></span><br><span class=\"line\">        sampler2D _MainTex;</span><br><span class=\"line\"></span><br><span class=\"line\">        struct Input</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            float2 uv_MainTex;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        half _Glossiness;</span><br><span class=\"line\">        half _Metallic;</span><br><span class=\"line\">        fixed4 _Color;</span><br><span class=\"line\"></span><br><span class=\"line\">        // Add instancing support for this shader. You need to check &apos;Enable Instancing&apos; on materials that use the shader.</span><br><span class=\"line\">        // See https://docs.unity3d.com/Manual/GPUInstancing.html for more information about instancing.</span><br><span class=\"line\">        // #pragma instancing_options assumeuniformscaling</span><br><span class=\"line\">        UNITY_INSTANCING_BUFFER_START(Props)</span><br><span class=\"line\">            // put more per-instance properties here</span><br><span class=\"line\">        UNITY_INSTANCING_BUFFER_END(Props)</span><br><span class=\"line\"></span><br><span class=\"line\">        void surf (Input IN, inout SurfaceOutputStandard o)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            // Albedo comes from a texture tinted by color</span><br><span class=\"line\">            fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color;</span><br><span class=\"line\">            o.Albedo = c.rgb;</span><br><span class=\"line\">            // Metallic and smoothness come from slider variables</span><br><span class=\"line\">            o.Metallic = _Metallic;</span><br><span class=\"line\">            o.Smoothness = _Glossiness;</span><br><span class=\"line\">            o.Alpha = c.a;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ENDCG</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    FallBack &quot;Diffuse&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>基本的使用的是<code>Standard fullforwardshadows</code>光照模型。有金属度和光泽度属性。和一个表示不透明物体渲染类型的标签<code>Tag</code>.<br><code>LOD</code>则表示着色器细节等级，用于确定不同画质下shader是否调用。<br>最后一句<code>FallBack &quot;Diffuse&quot;</code>用于在由于硬件或者其他问题，shader没有被正常执行的时候执行回滚操作。</p>\n","categories":[],"tags":[]}